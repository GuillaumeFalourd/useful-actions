
name: Workflow Dispatch

on: [workflow_dispatch]

jobs:
  job1:
    runs-on: ubuntu-latest
    steps:
      - name: Invoke workflow without inputs
        uses: benc-uk/workflow-dispatch@v1
        with:
          workflow: 'Workflow Dispatch Triggered'
          token: ${{ secrets.ACCESS_TOKEN }}

  job2:
    runs-on: ubuntu-latest
    steps:
      - name: Invoke workflow with inputs
        uses: benc-uk/workflow-dispatch@v1
        with:
          workflow: 'Workflow Dispatch Triggered'
          token: ${{ secrets.ACCESS_TOKEN }}
          inputs: '{ "message": "blah blah", "debug": true }'

  job3:
    runs-on: ubuntu-latest
    steps:
      - name: Invoke workflow in another repo with inputs
        uses: benc-uk/workflow-dispatch@v1
        with:
          workflow: '04 - Remote Dispatch Action Initiator'
          repo: GuillaumeFalourd/poc-github-actions
          token: ${{ secrets.ACCESS_TOKEN }}
          inputs: '{ "message": "blah blah", "debug": true }'
